
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pec.Analyse_PEC &#8212; PyPEC 0.1 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">PyPEC 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pec.Analyse_PEC</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for pec.Analyse_PEC</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Graphical frontend for fitting photo-current spectra.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">queue</span> <span class="k">as</span> <span class="nn">Queue</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">pathlib</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy.constants</span> <span class="kn">import</span> <span class="n">h</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">c</span>

<span class="kn">from</span> <span class="nn">.Parallel_Process</span> <span class="kn">import</span> <span class="n">PlotSummaryProcess</span><span class="p">,</span> <span class="n">initialize_processes</span><span class="p">,</span> <span class="n">start_processes</span><span class="p">,</span> <span class="n">get_cpu_number</span><span class="p">,</span> <span class="n">get_queue</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">iph_functions</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">version</span>

<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">filedialog</span><span class="p">,</span> <span class="n">messagebox</span>

<span class="kn">from</span> <span class="nn">matplotlib.figure</span> <span class="kn">import</span> <span class="n">Figure</span>
<span class="kn">import</span> <span class="nn">matplotlib.lines</span> <span class="k">as</span> <span class="nn">lines</span>
<span class="kn">import</span> <span class="nn">matplotlib.gridspec</span> <span class="k">as</span> <span class="nn">gridspec</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_tkagg</span> <span class="kn">import</span> <span class="n">FigureCanvasTkAgg</span><span class="p">,</span> <span class="n">NavigationToolbar2Tk</span>

<span class="kn">from</span> <span class="nn">.plotstyle</span> <span class="kn">import</span> <span class="n">IPH_STYLE</span><span class="p">,</span> <span class="n">RE_IPH_STYLE</span><span class="p">,</span> <span class="n">IM_IPH_STYLE</span><span class="p">,</span> <span class="n">DISTANCE_STYLE</span><span class="p">,</span> <span class="n">PHASE_STYLE</span><span class="p">,</span> <span class="n">set_plotstyle</span>
<span class="n">set_plotstyle</span><span class="p">()</span>





<span class="c1"># Compatibility from Python2 to Python3</span>
<span class="c1"># TODO: Change all tkFileDialog references to filedialog</span>
<span class="n">tkFileDialog</span> <span class="o">=</span> <span class="n">filedialog</span>
<span class="n">tkMessageBox</span> <span class="o">=</span> <span class="n">messagebox</span>
<span class="n">izip</span> <span class="o">=</span> <span class="nb">zip</span>

<span class="c1"># CONSTANTS</span>
<span class="n">HV_COEF</span> <span class="o">=</span> <span class="n">h</span> <span class="o">*</span> <span class="n">c</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1e-9</span> <span class="o">*</span> <span class="n">e</span><span class="p">)</span>

<span class="n">_PROFILE_FAST</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">_PROFILE_NORMAL</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">_PROFILE_AGGRESSIVE</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">_PROFILE_VALUES</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;NM iterations per prm&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span>
                   <span class="s1">&#39;NM fcalls per prm&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span>
                   <span class="s1">&#39;NM log10 xtol&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">11</span><span class="p">,</span> <span class="o">-</span><span class="mi">11</span><span class="p">],</span>
                   <span class="s1">&#39;NM log10 ftol&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">23</span><span class="p">,</span> <span class="o">-</span><span class="mi">23</span><span class="p">],</span>
                   <span class="s1">&#39;Nb cpu to use&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">get_cpu_number</span><span class="p">())],</span>
                   <span class="s1">&#39;Nb run per process&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                   <span class="s1">&#39;Nb fit per run&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
                   <span class="s1">&#39;Update every&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span>


<div class="viewcode-block" id="Analyse_PEC"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC">[docs]</a><span class="k">class</span> <span class="nc">Analyse_PEC</span><span class="p">(</span><span class="n">Frame</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Graphical front end for fitting Iph spectra.</span>

<span class="sd">    Parameters</span>
<span class="sd">    -----------</span>
<span class="sd">    master: tkinter widget</span>
<span class="sd">        Parent widget of the Tkinter Frame widget.</span>

<span class="sd">    Attributes</span>
<span class="sd">    -----------</span>
<span class="sd">    prm_init: 2d array</span>
<span class="sd">        Represents the values and states of the triplets :math:`(K_i, \theta_i, Eg_i)`.</span>
<span class="sd">        </span>
<span class="sd">    cpu_count: int</span>
<span class="sd">        Number of cpu available.</span>

<span class="sd">    cpu_to_use: int</span>
<span class="sd">        Number of cpu to use among the available cpus.</span>
<span class="sd">        </span>
<span class="sd">    stopped_process: int</span>
<span class="sd">        Counter of stopped process.</span>

<span class="sd">    run_per_process: int</span>
<span class="sd">        Number of runs per process.</span>

<span class="sd">    process_colors: list</span>
<span class="sd">        List of colors to be used for plotting the running processes.</span>

<span class="sd">    path_prm_file: string</span>
<span class="sd">        Filepath to the text file containing the values and states of the triplets :math:`(K_i, \theta_i, Eg_i)`.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                     <span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                     <span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                     <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                     <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">iph_functions</span><span class="o">.</span><span class="n">_FLOAT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpu_count</span> <span class="o">=</span> <span class="n">get_cpu_number</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># int(self.cpu_count)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stopped_process</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running_flag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;C0&#39;</span><span class="p">,</span> <span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="s1">&#39;C2&#39;</span><span class="p">,</span> <span class="s1">&#39;C4&#39;</span><span class="p">,</span> <span class="s1">&#39;C5&#39;</span><span class="p">,</span> <span class="s1">&#39;C6&#39;</span><span class="p">,</span> <span class="s1">&#39;C8&#39;</span><span class="p">,</span> <span class="s1">&#39;C9&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_prm_file</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_min</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_max</span> <span class="o">=</span> <span class="mf">6.2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">K_bound</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span> <span class="o">**</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_bound</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">180.0</span><span class="p">,</span> <span class="mf">180.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_bound</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">6.2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_as_measured</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_true</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_last</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span> <span class="o">=</span> <span class="mf">0.0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">source_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_data_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_prm_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_save_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirpath</span> <span class="o">=</span> <span class="s1">&#39;C:</span><span class="se">\\</span><span class="s1">&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polling_time</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flag_iphB</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flag_prm</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flag_data</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Iph&#39;</span><span class="p">:</span> <span class="s1">&#39;Iph&#39;</span><span class="p">,</span> <span class="s1">&#39;Iph*&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$Iph^{\ast}$&#39;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Nb_SC</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Nb_SC</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">win_Fit1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_folder</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">workers</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_calc</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_true</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Suivi_fit</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_calc</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phi_N</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_CI</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phi_1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_trueN_exp_complex_all</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iphB_exp_complex_all</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_CI_all</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># GUI</span>
        <span class="n">Frame</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;PEC Fitting - </span><span class="si">{0:s}</span><span class="s1"> - Running in Python </span><span class="si">{1:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version</span><span class="o">.</span><span class="n">__version__</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">iconphoto</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">folder</span> <span class="o">/</span> <span class="s1">&#39;icon.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ask_quit</span><span class="p">)</span>

        <span class="c1"># get screen width and height</span>
        <span class="n">ws</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
        <span class="n">hs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">winfo_screenheight</span><span class="p">()</span>
        <span class="c1"># master.geometry((&quot;%dx%d&quot;)%(ws,hs))</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.9</span> <span class="o">*</span> <span class="n">ws</span><span class="p">)</span>
        <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.9</span> <span class="o">*</span> <span class="n">hs</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">ws</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">hs</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">25</span><span class="p">)</span>
        <span class="n">master</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">x</span><span class="si">{}</span><span class="s1">+</span><span class="si">{}</span><span class="s1">+</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1"># Add Single File Button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddFiles_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Load exp File&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AddFiles_cb</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddFiles_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1"># Name of exp files</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Files_List_Var</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Files_List_Entry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Files_List_Var</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;readonly&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Files_List_Entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1"># PRM Button</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Set Parameters&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_set_parameters</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">)</span>

        <span class="c1"># Profile Scan: Fast, Normal, Aggressive</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Choose Scan Profile&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_labelframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>  <span class="c1"># 0:Fast, 1:Normal, 2: Aggressive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_NORMAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_fast_radbut</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span>
                                                    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Fast&#39;</span><span class="p">,</span>
                                                    <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="p">,</span>
                                                    <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                    <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_profile</span><span class="p">,</span>
                                                    <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_fast_radbut</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_normal_radbut</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span>
                                                      <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Normal&#39;</span><span class="p">,</span>
                                                      <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="p">,</span>
                                                      <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                      <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_profile</span><span class="p">,</span>
                                                      <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_normal_radbut</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_aggressive_radbut</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span>
                                                          <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Aggressive&#39;</span><span class="p">,</span>
                                                          <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="p">,</span>
                                                          <span class="n">value</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_profile</span><span class="p">,</span>
                                                          <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_aggressive_radbut</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="c1"># linear preview</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_view_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Linear View&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_view_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linear_view_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linear_view_labelframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_view_DVar</span> <span class="o">=</span> <span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_view_DVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_none_radbut</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;None&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linear_view_DVar</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                              <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_linear_preview</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_none_radbut</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_direct_radbut</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Direct Transitions&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linear_view_DVar</span><span class="p">,</span>
                                                <span class="n">value</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_linear_preview</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_direct_radbut</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_indirect_radbut</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Indirect Transitions&quot;</span><span class="p">,</span>
                                                  <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linear_view_DVar</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span>
                                                  <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_linear_preview</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_indirect_radbut</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="c1"># Choice of values to fit</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Values to fit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_labelframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;Iph*&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_iph</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Iph*&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Iph*&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="p">,</span>
                                        <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span>
                                        <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_fit_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_iph</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_iphB</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Iph&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Iph&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="p">,</span>
                                         <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span>
                                         <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_fit_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_iphB</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="c1"># Choice of weights for calculating the errors</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Weights for error estimation&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">weights_type_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_labelframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;Abs.Err.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_1</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="p">,</span>
                                          <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span>
                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_weight_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_invIph</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;1/|Iph(*)|^2&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;1/|Iph(*)|^2&#39;</span><span class="p">,</span>
                                               <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span>
                                               <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_weight_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_invIph</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_sigma</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;|IphN*/Noise(Iph)|^2&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Abs.Err.&#39;</span><span class="p">,</span>
                                              <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="p">,</span>
                                              <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_weight_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_sigma</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_DblVar</span> <span class="o">=</span> <span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_DblVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_entry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sigma_DblVar</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Return&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_sigma_entry</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_label</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Average Noise (Iph)=&#39;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvrange_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Energy Range&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvrange_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvrange_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvrange_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span> <span class="o">=</span> <span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span> <span class="o">=</span> <span class="n">DoubleVar</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_min</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_max</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvrange_labelframe</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;hv start (eV): &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_start_Entry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvrange_labelframe</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_start_Entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_start_Entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Return&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_hv_limits</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvrange_labelframe</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;hv end (eV): &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_end_Entry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvrange_labelframe</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_end_Entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_end_Entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Return&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_hv_limits</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_range_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Fit Setup&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_range_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setup_range_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setup_range_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup_range_labelframe</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Processes: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_spbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">,</span>
                                           <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_IntVar</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                           <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">update_nb_runs</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_spbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Runs/Process: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_spbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                <span class="n">to</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">update_nb_runs</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_spbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Runs: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Run</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Run</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Run_label</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">NB_Run</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Run_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Minim./Run: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run_spbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                           <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span>
                                           <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">update_nb_fit_in_run</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run_spbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Plot every: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_every_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_every_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_every_spbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">update_every_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span>
                                          <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span>
                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">update_nb_fit_in_run</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_every_spbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">naming_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Identification&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">naming_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">naming_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">naming_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">naming_labelframe</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Suffix: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Alloy: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_entry_StrVar</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_entry_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_entry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alloy_entry_StrVar</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;ID: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_id_entry_StrVar</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_id_entry_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_id_entry</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alloy_id_entry_StrVar</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_id_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run0_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Initialization Run = 1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run0_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run0_labelframe</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run0_labelframe</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run0_labelframe</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run0_labelframe</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run0_labelframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_0</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_0</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Random&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                                              <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;User&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_0</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                                                                          <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;-&gt;Random Loops: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">random_loops_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">random_loops_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">random_loops_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_loops_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span>
                                         <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">random_loops_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Initialize after non valid parameters&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_validation</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_validation</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Random&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_validation</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                                                       <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;User&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_validation</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                                                                   <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Propagation Run &gt; 1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runN_labelframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Random&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                                              <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;User&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                                                          <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Min&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;min&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;End&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;end&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="c1"># Nelder-Mead Options</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NelderMeadFrame</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Nelder-Mead Options (fminsearch)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NelderMeadFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NelderMeadFrame</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NelderMeadFrame</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NelderMeadFrame</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_xtol_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_xtol_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">-</span><span class="mi">11</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;log10(xtol): &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_xtol_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_xtol_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=-</span><span class="mi">50</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                                          <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_xtol_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_ftol_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_ftol_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">-</span><span class="mi">23</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;log10(ftol): &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_ftol_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_ftol_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=-</span><span class="mi">50</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                                          <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_ftol_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">NM_iteration_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_iteration_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Iter./prm.: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_iteration_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">NM_iteration_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span>
                                         <span class="n">increment</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_iteration_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">NM_fcalls_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_fcalls_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;fcalls/prm.: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_fcalls_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">NM_fcalls_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                      <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_fcalls_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="c1"># Parameter Constraints Options</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParameterFrame</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Parameter Constraints&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParameterFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ParameterFrame</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ParameterFrame</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ParameterFrame</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ParameterFrame</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">(),</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">-</span><span class="mi">12</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;log10(K min): &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=-</span><span class="mi">30</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                     <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_K_limits</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;log10(K Max): &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=-</span><span class="mi">30</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                     <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_K_limits</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_scan_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log_scan_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Checkbutton</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Log Scan&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_scan_IntVar</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">(),</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;theta min (): &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=-</span><span class="mi">360</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span>
                                         <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_theta_limits</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;theta max (): &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=-</span><span class="mi">360</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span>
                                         <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_theta_limits</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span> <span class="o">=</span> <span class="n">DoubleVar</span><span class="p">(),</span> <span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">6.5</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Eg min: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                                      <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_Eg_limits</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Eg max: &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                                      <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_Eg_limits</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="c1"># Polling time</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">PollingFrame</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Polling Parameters&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">PollingFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PollingFrame</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PollingFrame</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">PollingFrame</span>

        <span class="n">Label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Time (ms)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polling_time_IntVar</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polling_time_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polling_time_sbox</span> <span class="o">=</span> <span class="n">Spinbox</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">polling_time_IntVar</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span>
                                         <span class="n">increment</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                         <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_update_polling_time</span><span class="p">,</span>
                                         <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polling_time_sbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="c1"># File editor Button</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Fit_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;START&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Fit_cb</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Fit_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="c1"># Stop button - all processes at once</span>
        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_fit_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;STOP&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_stop_button</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_fit_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># FIGURE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
        <span class="c1"># Instantiate canvas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nesw&#39;</span><span class="p">)</span>
        <span class="c1"># Instantiate and pack toolbar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar_frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">NO</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar2Tk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbar_frame</span><span class="p">)</span>

        <span class="c1"># CHARTS</span>
        <span class="n">gs</span> <span class="o">=</span> <span class="n">gridspec</span><span class="o">.</span><span class="n">GridSpec</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="c1"># Iph vs ,hv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$h\nu$ (eV)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span><span class="s1">&#39;Iph&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; /A&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="o">**</span><span class="n">IPH_STYLE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_line</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$h\nu$ (eV)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span><span class="s1">&#39;Iph*&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; /A&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="o">**</span><span class="n">IPH_STYLE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_line</span><span class="p">)</span>

        <span class="c1"># Phi vs ,hv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\theta$ /$^{\circ}$&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="o">**</span><span class="n">PHASE_STYLE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_line</span><span class="p">)</span>

        <span class="c1"># Re+Im vs ,hv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$h\nu$ /eV&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Re &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="o">+</span> <span class="s1">&#39; /A, Im &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="o">+</span> <span class="s1">&#39; /A&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="o">**</span><span class="n">RE_IPH_STYLE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_line</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="o">**</span><span class="n">IM_IPH_STYLE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_line</span><span class="p">)</span>

        <span class="c1"># Evolution</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Minimizations&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$\log10$(Distance)&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_fit_lines</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_legend</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_legend</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

        <span class="c1"># vertical lines for energy upper/lower limits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Iph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Iph_true</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
                                                        <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Phi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Re</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_on_profile</span><span class="p">()</span>

<div class="viewcode-block" id="Analyse_PEC.update_nb_runs"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.update_nb_runs">[docs]</a>    <span class="k">def</span> <span class="nf">update_nb_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        </span>
<span class="sd">        Update the number of cpu and run per process on the graphical interface.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

        <span class="n">nb_run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Run</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">nb_run</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_as_measured</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_true</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_last</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">remove_fit_lines</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_fit_lines</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_update_polling_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">polling_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">polling_time_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

<div class="viewcode-block" id="Analyse_PEC.update_nb_fit_in_run"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.update_nb_fit_in_run">[docs]</a>    <span class="k">def</span> <span class="nf">update_nb_fit_in_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_legend</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_legend</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="Analyse_PEC.update_legend"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.update_legend">[docs]</a>    <span class="k">def</span> <span class="nf">update_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fit</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">):</span>

        <span class="n">progress</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_progress</span><span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="n">fit</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
            <span class="n">label</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;Process </span><span class="si">{0:d}</span><span class="s1"> - Run </span><span class="si">{1:03d}</span><span class="s1">/</span><span class="si">{2:03d}</span><span class="s1"> - Fit </span><span class="si">{3:03d}</span><span class="s1">/</span><span class="si">{4:03d}</span><span class="s1"> - Progress </span><span class="si">{5:03d}</span><span class="s1">%&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                                                                                                            <span class="n">run</span><span class="p">,</span>
                                                                                                            <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span><span class="p">,</span>
                                                                                                            <span class="n">fit</span><span class="p">,</span>
                                                                                                            <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                                                                            <span class="n">progress</span><span class="p">)</span>
            <span class="n">line</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">location</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_figure</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.get_progress"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.get_progress">[docs]</a>    <span class="k">def</span> <span class="nf">get_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fit</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>

        <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span>
        <span class="n">current</span> <span class="o">=</span> <span class="n">fit</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="n">run</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">progress</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">current</span> <span class="o">*</span> <span class="mf">100.0</span> <span class="o">/</span> <span class="n">total</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">progress</span></div>

<div class="viewcode-block" id="Analyse_PEC.on_stop_button"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.on_stop_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_stop_button</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">worker</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">worker</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
                <span class="n">worker</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.Fit_cb"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.Fit_cb">[docs]</a>    <span class="k">def</span> <span class="nf">Fit_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag_prm</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag_data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dirpath</span> <span class="o">=</span> <span class="n">tkFileDialog</span><span class="o">.</span><span class="n">askdirectory</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Choose folder for saving results&#39;</span><span class="p">,</span>
                                                     <span class="n">mustexist</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                     <span class="n">initialdir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">last_save_folder</span><span class="p">,</span>
                                                     <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirpath</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_save_folder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirpath</span>
                <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirpath</span>
                <span class="n">alloy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alloy_entry_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span>
                <span class="n">alloy_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alloy_id_entry_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span>
                <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y_%m_</span><span class="si">%d</span><span class="s1">-%H%M%S&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">alloy</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">alloy</span> <span class="o">=</span> <span class="s1">&#39;Un_Alloy&#39;</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">alloy_id</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">alloy_id</span> <span class="o">=</span> <span class="s1">&#39;Un_ID&#39;</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">win_Fit1</span> <span class="o">=</span> <span class="n">Toplevel</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">win_Fit1</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Fit Settings&quot;</span><span class="p">)</span>

                <span class="n">Text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="c1"># Text = Text+&#39;FIT SETTINGS\n\n&#39;</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Experimental Data File=&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Energy Range (eV)=</span><span class="si">{0:s}</span><span class="s1">,</span><span class="si">{1:s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Fit type=</span><span class="si">{0:s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Weights=</span><span class="si">{0:s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Abs.Err.=</span><span class="si">{0:+.16e}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sigma_DblVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;No of SC Contributions=&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Nb_SC</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Parameter File=&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">path_prm_file</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Alloy=</span><span class="si">{0:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">alloy</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;ID=</span><span class="si">{0:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">alloy_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;No of Processes=&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;No of Runs per Process=&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;No of Runs=&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NB_Run</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;No of Fits per Run=&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Suffix=&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Initialization Run 1=</span><span class="si">{0:s}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_0</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Random Loops=</span><span class="si">{0:d}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">random_loops_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Propagation Run &gt; 1=</span><span class="si">{0:s}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Initialize after non valid parameters=</span><span class="si">{0:s}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_validation</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;log10 xtol=</span><span class="si">{0:d}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_xtol_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;log10 ftol=</span><span class="si">{0:d}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_ftol_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Iterations/Parameter=</span><span class="si">{0:d}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NM_iteration_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;fcalls/Parameter=</span><span class="si">{0:d}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NM_fcalls_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;K min, K max=</span><span class="si">{0:.2e}</span><span class="s1">,</span><span class="si">{1:.2e}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                                       <span class="mi">10</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Log scan of K=</span><span class="si">{0:b}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_scan_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;theta min, theta max=</span><span class="si">{0:.0f}</span><span class="s1">,</span><span class="si">{1:.0f}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                                               <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Eg min, Eg max=</span><span class="si">{0:.2f}</span><span class="s1">,</span><span class="si">{1:.2f}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                                         <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                <span class="c1"># folder pattern: root/alloy/alloy_id/%Y_%m_%d-%H%M%S-suffix-starteV-endeV-init_run1-init_after_notvalid-propagation</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">alloy_folder</span> <span class="o">=</span> <span class="n">root</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">alloy</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">alloy_id</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alloy_folder</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">alloy</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">alloy_id</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> \
                                  <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_0</span><span class="o">.</span><span class="n">get</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_validation</span><span class="o">.</span><span class="n">get</span><span class="p">()[</span>
                                      <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span><span class="o">.</span><span class="n">get</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> \
                                  <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{0:.2f}</span><span class="s1">eV_</span><span class="si">{1:.2f}</span><span class="s1">eV&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alloy_folder</span><span class="p">):</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alloy_folder</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span><span class="p">)</span>

                <span class="n">Text</span> <span class="o">=</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;Result Folder=&#39;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span><span class="p">)</span>

                <span class="n">datafile_name</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
                <span class="n">shortdatafile_name</span> <span class="o">=</span> <span class="n">alloy</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">alloy_id</span>
                <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">datafile_name</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">ext</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>

                <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">shortdatafile_name</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">iph_functions</span><span class="o">.</span><span class="n">FIT_SETTING_EXT</span>
                <span class="n">fobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
                <span class="n">fobj</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>
                <span class="n">fobj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

                <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">shortdatafile_name</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">iph_functions</span><span class="o">.</span><span class="n">PRM_INIT_EXT</span>
                <span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">%+.6e</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;</span><span class="si">%+.1e</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span>
                           <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

                <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">win_Fit1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">Text</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
                <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">win_Fit1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_Run_Fit</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                                                               <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
                <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">win_Fit1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Cancel&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_fit_folder</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                                                                          <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag_prm</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Parameter Values&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Parameter Values were not set.&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag_data</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Data Values&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Data Values were not loaded.&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Analyse_PEC.remove_fit_folder"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.remove_fit_folder">[docs]</a>    <span class="k">def</span> <span class="nf">remove_fit_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">win_Fit1</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.on_Run_Fit"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.on_Run_Fit">[docs]</a>    <span class="k">def</span> <span class="nf">on_Run_Fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">remove_fit_lines</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_fit_lines</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot_ligne_V</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">win_Fit1</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="n">get_queue</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">workers</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># mask_no_null = np.where(self.iph_exp_complex_all != (0.0+1j*0.0))</span>
        <span class="c1"># mask_no_null_CI = np.where(self.iph_exp_complex_CI_all != (0.0+1j*0.0))</span>

        <span class="n">NelderMead_options</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_xtol_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                              <span class="mi">10</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_ftol_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">NM_iteration_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">NM_fcalls_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

        <span class="n">constraints</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">10</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="mi">10</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span>
                       <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span>
                       <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span>
                       <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_scan_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())]</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;output_queue&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="p">,</span>
                  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;prm_init&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span><span class="p">,</span>
                  <span class="s1">&#39;nb_run&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span><span class="p">,</span>
                  <span class="s1">&#39;nb_SC&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Nb_SC</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                  <span class="s1">&#39;init_type&#39;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Init_type_0</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_N</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">Init_type_validation</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span>
                  <span class="s1">&#39;random_loops&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">random_loops_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                  <span class="s1">&#39;hv&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">,</span>
                  <span class="s1">&#39;iph_exp_complex&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">,</span>
                  <span class="s1">&#39;iph_exp_complex_CI&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_CI_all</span><span class="p">,</span>
                  <span class="s1">&#39;phi_N&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N</span><span class="p">,</span>
                  <span class="s1">&#39;phi_N_CI&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_CI</span><span class="p">,</span>
                  <span class="s1">&#39;weights&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">,</span>
                  <span class="s1">&#39;hv_limits&#39;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span>
                  <span class="s1">&#39;nb_fit_in_run&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                  <span class="s1">&#39;fit_folder&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span><span class="p">,</span>
                  <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span>
                  <span class="s1">&#39;suffix&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                  <span class="s1">&#39;NelderMead_options&#39;</span><span class="p">:</span> <span class="n">NelderMead_options</span><span class="p">,</span>
                  <span class="s1">&#39;ParameterConstraints&#39;</span><span class="p">:</span> <span class="n">constraints</span><span class="p">,</span>
                  <span class="s1">&#39;update_every&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_every_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">workers</span> <span class="o">=</span> <span class="n">initialize_processes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_queue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_start_workers</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.remove_fit_lines"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.remove_fit_lines">[docs]</a>    <span class="k">def</span> <span class="nf">remove_fit_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_fit_lines</span><span class="p">:</span>
            <span class="n">line</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_fit_lines</span><span class="p">:</span>
            <span class="n">line</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_fit_lines</span><span class="p">:</span>
            <span class="n">line</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph_lines</span><span class="p">:</span>
            <span class="n">line</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_fit_lines</span><span class="p">:</span>
            <span class="n">line</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_fit_lines</span><span class="p">:</span>
            <span class="n">line</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.create_fit_lines"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.create_fit_lines">[docs]</a>    <span class="k">def</span> <span class="nf">create_fit_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_fit_lines</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process_colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_fit_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

            <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process_colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_fit_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

            <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process_colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_fit_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

            <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process_colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_fit_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

            <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process_colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_fit_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

            <span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">(</span><span class="n">xdata</span><span class="o">=</span><span class="p">[],</span> <span class="n">ydata</span><span class="o">=</span><span class="p">[],</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process_colors</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="o">**</span><span class="n">DISTANCE_STYLE</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_legend</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_legend</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="Analyse_PEC.on_start_workers"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.on_start_workers">[docs]</a>    <span class="k">def</span> <span class="nf">on_start_workers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">start_processes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_lock_widgets</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">running_flag</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Analyse_PEC.process_queue"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.process_queue">[docs]</a>    <span class="k">def</span> <span class="nf">process_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># poll the queue while the stopped_process counter is lower than the number of cpu_to_use</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopped_process</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">name</span><span class="p">,</span> <span class="n">run</span><span class="p">,</span> <span class="n">fit_nb</span><span class="p">,</span> <span class="n">data_type</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data_type</span> <span class="o">==</span> <span class="s1">&#39;data&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">hv_calc</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Iph&#39;</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_true</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_true</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">Suivi_fit</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_fit_lines</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">run</span><span class="p">,</span> <span class="n">fit_nb</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">data_type</span> <span class="o">==</span> <span class="s1">&#39;done&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">stopped_process</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polling_time</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_queue</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">Queue</span><span class="o">.</span><span class="n">Empty</span><span class="p">:</span>
                <span class="c1"># print(&#39;Still Polling...&#39;)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polling_time</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_queue</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># print(&#39;exiting polling&#39;)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stopped_process</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_unlock_widgets</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">running_flag</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="n">answer</span> <span class="o">=</span> <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">askyesno</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Save Results&#39;</span><span class="p">,</span>
                                           <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Do you want to keep the results saved in &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">answer</span><span class="p">:</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">plot_process</span> <span class="o">=</span> <span class="n">PlotSummaryProcess</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_folder</span><span class="p">)</span>
                <span class="n">plot_process</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">plot_process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.on_hv_limits"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.on_hv_limits">[docs]</a>    <span class="k">def</span> <span class="nf">on_hv_limits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>

        <span class="c1"># check if the lower and upper limits are identical</span>
        <span class="c1"># if identical, shift both limits by 0.1 eV.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">)</span>

        <span class="c1"># swap the limits if the lower limit is greater than the upper limit</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>

        <span class="c1"># check if the lower the limit is lower than the minimal hv value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_min</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_min</span><span class="p">)</span>

        <span class="c1"># check if the upper limit is greater than the maximal hv value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_max</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_max</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="mi">1</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">,</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">&amp;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_calc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_true</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>

        <span class="c1"># self._on_weight_type()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_ligne_V</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_figure</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_on_K_limits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">K_LBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">K_UBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_theta_limits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">theta_LBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">theta_UBound_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_Eg_limits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Eg_LBound_DVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Eg_UBound_DVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_unlock_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddFiles_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_fast_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_normal_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_aggressive_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_invIph</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_sigma</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_iph</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_iphB</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">linear_none_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_direct_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_indirect_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Fit_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_fit_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hv_start_Entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_end_Entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_spbox</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_spbox</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run_spbox</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_every_spbox</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_id_entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_lock_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddFiles_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_fast_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_normal_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_aggressive_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_invIph</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_sigma</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_label</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_iph</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_iphB</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">linear_none_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_direct_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linear_indirect_radbut</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Fit_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_fit_button</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hv_start_Entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_end_Entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_spbox</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_spbox</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run_spbox</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_every_spbox</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alloy_id_entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="Analyse_PEC.prm_binary"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.prm_binary">[docs]</a>    <span class="k">def</span> <span class="nf">prm_binary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Nb_SC</span><span class="o">.</span><span class="n">get</span><span class="p">()):</span>
            <span class="n">bin_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">str</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="n">suffix</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">bin_str</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_entry_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flag_prm</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Analyse_PEC.AddFiles_cb"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.AddFiles_cb">[docs]</a>    <span class="k">def</span> <span class="nf">AddFiles_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">tkFileDialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Add exp File&#39;</span><span class="p">,</span>
                                                     <span class="n">defaultextension</span><span class="o">=</span><span class="s1">&#39;.dot&#39;</span><span class="p">,</span>
                                                     <span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;dot files&#39;</span><span class="p">,</span> <span class="s1">&#39;.dot&#39;</span><span class="p">),</span>
                                                                <span class="p">(</span><span class="s1">&#39;data files&#39;</span><span class="p">,</span> <span class="s1">&#39;.data&#39;</span><span class="p">),</span>
                                                                <span class="p">(</span><span class="s1">&#39;txt files&#39;</span><span class="p">,</span> <span class="s1">&#39;.txt&#39;</span><span class="p">),</span>
                                                                <span class="p">(</span><span class="s1">&#39;all files&#39;</span><span class="p">,</span> <span class="s1">&#39;.*&#39;</span><span class="p">)],</span>
                                                     <span class="n">initialdir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">last_data_folder</span><span class="p">,</span>
                                                     <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_data_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># import in local arrays</span>
                <span class="n">hv</span><span class="p">,</span> <span class="n">Iph_exp</span><span class="p">,</span> <span class="n">Iph_exp_N</span><span class="p">,</span> <span class="n">phase_exp</span><span class="p">,</span> <span class="n">IphB_exp</span><span class="p">,</span> <span class="n">flag_iphB</span> <span class="o">=</span> <span class="n">iph_functions</span><span class="o">.</span><span class="n">get_exp_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span>
                <span class="c1"># Explicit memory allocation for global array containing all data</span>
                <span class="n">nb_points</span> <span class="o">=</span> <span class="n">hv</span><span class="o">.</span><span class="n">size</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">nb_points</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">nb_points</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iph_trueN_exp_complex_all</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">nb_points</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iphB_exp_complex_all</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">nb_points</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">nb_points</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_CI_all</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">nb_points</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">nb_points</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">phi_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">nb_points</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_CI</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">nb_points</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">phi_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">nb_points</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">weights_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">nb_points</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">nb_points</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights_1</span><span class="p">[:]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">hv</span><span class="p">[:]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hv_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hv_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_min</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_max</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">,</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">&amp;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">hv_start_Entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hv_end_Entry</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">Iph_exp</span><span class="p">[:]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="n">phase_exp</span><span class="p">[:]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iph_trueN_exp_complex_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">Iph_exp_N</span><span class="p">[:]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="n">phase_exp</span><span class="p">[:]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iphB_exp_complex_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">IphB_exp</span><span class="p">[:]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="n">phase_exp</span><span class="p">[:]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">[:]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_CI_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">[:]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iphB_exp_complex_all</span><span class="p">[:])</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">[:])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">phi_N</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span><span class="p">[:]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_CI</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span><span class="p">[:]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">flag_iphB</span> <span class="o">=</span> <span class="n">flag_iphB</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;Iph*&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_on_fit_type</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_on_weight_type</span><span class="p">()</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">plot_ligne_V</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_Graph</span><span class="p">()</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_unlock_widgets</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">flag_data</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">Files_List_Var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">))</span>

            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">Files_List_Var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;Corrupted Data File&#39;</span><span class="p">)</span>
                <span class="n">ext</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Import Error&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Corrupted </span><span class="si">{0:s}</span><span class="s1"> File&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;*.&#39;</span> <span class="o">+</span> <span class="n">ext</span><span class="p">))</span></div>

<div class="viewcode-block" id="Analyse_PEC.plot_ligne_V"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.plot_ligne_V">[docs]</a>    <span class="k">def</span> <span class="nf">plot_ligne_V</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Iph</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Iph_true</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Phi</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Re</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Iph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Iph_true</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
                                                        <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Phi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Lim_Re</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_figure</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_on_profile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">_PROFILE_FAST</span><span class="p">,</span> <span class="n">_PROFILE_NORMAL</span><span class="p">,</span> <span class="n">_PROFILE_AGGRESSIVE</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_NORMAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nb_cpu_to_use_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_VALUES</span><span class="p">[</span><span class="s1">&#39;Nb cpu to use&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nb_run_per_process_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_VALUES</span><span class="p">[</span><span class="s1">&#39;Nb run per process&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_VALUES</span><span class="p">[</span><span class="s1">&#39;Nb fit per run&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_every_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_VALUES</span><span class="p">[</span><span class="s1">&#39;Update every&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">NM_iteration_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_VALUES</span><span class="p">[</span><span class="s1">&#39;NM iterations per prm&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_fcalls_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_VALUES</span><span class="p">[</span><span class="s1">&#39;NM fcalls per prm&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_xtol_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_VALUES</span><span class="p">[</span><span class="s1">&#39;NM log10 xtol&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NM_log10_ftol_IntVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">_PROFILE_VALUES</span><span class="p">[</span><span class="s1">&#39;NM log10 ftol&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_profile_IntVar</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>

    <span class="k">def</span> <span class="nf">_on_linear_preview</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linear_view_DVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot_Graph</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_on_fit_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag_iphB</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Warning&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;As-measured values are not available.&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;Iph*&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Iph&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iphB_exp_complex_all</span><span class="p">[:]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">phi_N</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span><span class="p">[:]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_CI</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span><span class="p">[:]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">([</span><span class="mf">0.9</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Iph*&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">[:]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">phi_N</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_1</span><span class="p">[:]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_CI</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_1</span><span class="p">[:]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">([</span><span class="mf">0.9</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># self.plot_Graph()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_Re_Im</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_figure</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_on_weight_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">silent</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_CI_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">[:]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights_1</span><span class="p">[:]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;1/|Iph(*)|^2&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">[:]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Abs.Err.&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_CI_all</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iphB_exp_complex_all</span><span class="p">[:]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_CI</span><span class="p">[:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phi_N_</span><span class="p">[:]</span>
            <span class="c1"># search the maximum og the true iph in the domain defined by hv_start and hv_end</span>
            <span class="c1"># define a new iph normalized to this new max to be used as weights</span>
            <span class="n">mask_true</span><span class="p">,</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_start</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">&amp;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_end</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
            <span class="n">iph_true_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">[</span><span class="n">mask_true</span><span class="p">]))</span>
            <span class="n">iph_true</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">)</span> <span class="o">/</span> <span class="n">iph_true_max</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span>
                <span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">angle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">,</span> <span class="n">deg</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">iph_true</span><span class="p">[:]</span> <span class="o">*</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">sigma_DblVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;phi_N&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phi_N</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;phi_N_CI&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phi_N_CI</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Iph&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Iph CI&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_CI_all</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Weights&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">weights</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Iph*&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Abs.Err.&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">silent</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Warning&#39;</span><span class="p">,</span>
                                         <span class="n">message</span><span class="o">=</span><span class="s1">&#39;The true photocurrent Iph* is fitted through the distance function and the confidence intervals are computed using the chi2 function and the as-measured photocurrent Iph.&#39;</span><span class="p">)</span>

        <span class="c1"># self.plot_Graph()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_Re_Im</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_on_sigma_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">weights_type_StrVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;Abs.Err.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sigma_DblVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sigma_DblVar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
            <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Value Error&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;The absolute error cannot be equal to 0.0&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_weight_type</span><span class="p">()</span>

<div class="viewcode-block" id="Analyse_PEC.plot_Re_Im"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.plot_Re_Im">[docs]</a>    <span class="k">def</span> <span class="nf">plot_Re_Im</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">real</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">imag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="p">(</span><span class="n">Re_line</span><span class="p">,</span> <span class="n">Im_line</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">izip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_fit_lines</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_fit_lines</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">Re_line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_last</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Iph&#39;</span><span class="p">:</span>
                    <span class="n">Im</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">real</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_as_measured</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
                    <span class="n">Re</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">imag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_as_measured</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">Im</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">real</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_true</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
                    <span class="n">Re</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">imag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_true</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>

                <span class="n">Re_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
                <span class="n">Re_line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">Re</span><span class="p">)</span>
                <span class="n">Im_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
                <span class="n">Im_line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">Im</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="p">)</span></div>

<div class="viewcode-block" id="Analyse_PEC.plot_Graph"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.plot_Graph">[docs]</a>    <span class="k">def</span> <span class="nf">plot_Graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_all</span>
        <span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iphB_exp_complex_all</span><span class="p">)</span>
        <span class="n">Ylin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_true_exp_complex_all</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Re &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="o">+</span> <span class="s1">&#39; /A, Im &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="o">+</span> <span class="s1">&#39; /A&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="o">+</span> <span class="s1">&#39; /A&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="o">+</span> <span class="s1">&#39; /A&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">Ylin</span> <span class="o">=</span> <span class="p">(</span><span class="n">Ylin</span> <span class="o">*</span> <span class="n">X</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span> <span class="o">==</span> <span class="mf">0.5</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span>
                    <span class="sa">r</span><span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $\cdot h\nu$)$^</span><span class="si">{2}</span><span class="s1">$ /$A^</span><span class="si">{2}</span><span class="s1"> \cdot eV^</span><span class="si">{2}</span><span class="s1">$&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_labels</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fit_type_StrVar</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $\cdot h\nu$)$^{1/2}$ /$A^{1/2} \cdot eV^{1/2}$&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">Ylin</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">angle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_exp_complex_all</span><span class="p">,</span> <span class="n">deg</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot_Re_Im</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">X</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">Y</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">X</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">Ylin</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">Ylin</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">line_true</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">izip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_fit_lines</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_fit_lines</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_last</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
                <span class="n">Ylin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_true</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
                <span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_as_measured</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">Ylin</span> <span class="o">=</span> <span class="p">(</span><span class="n">Ylin</span> <span class="o">*</span> <span class="n">X</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span><span class="p">)</span>
                <span class="n">line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
                <span class="n">line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
                <span class="n">line_true</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
                <span class="n">line_true</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">Ylin</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_figure</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.plot_fit_lines"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.plot_fit_lines">[docs]</a>    <span class="k">def</span> <span class="nf">plot_fit_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>

        <span class="n">name</span><span class="p">,</span> <span class="n">run</span><span class="p">,</span> <span class="n">fit_nb</span> <span class="o">=</span> <span class="n">args</span>

        <span class="n">process_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;: &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hv_last</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_calc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_as_measured</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_last_true</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_true</span>
        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hv_calc</span>
        <span class="n">Ylin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex_true</span><span class="p">)</span>
        <span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">Ylin</span> <span class="o">=</span> <span class="p">(</span><span class="n">Ylin</span> <span class="o">*</span> <span class="n">X</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_exponant</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">Ylin</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Phi_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">angle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span><span class="p">,</span> <span class="n">deg</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Re_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">real</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hv</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Im_Graph_fit_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">imag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iph_calc_complex</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot_Re_Im</span><span class="p">()</span>

        <span class="n">mask</span><span class="p">,</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Suivi_fit</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Suivi_fit</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph_lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Suivi_fit</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span><span class="o">.</span><span class="n">relim</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Evol_Graph</span><span class="o">.</span><span class="n">autoscale_view</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">progress</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_progress</span><span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="n">fit_nb</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">label</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;Process </span><span class="si">{0:d}</span><span class="s1"> - Run </span><span class="si">{1:03d}</span><span class="s1">/</span><span class="si">{2:03d}</span><span class="s1"> - Fit </span><span class="si">{3:03d}</span><span class="s1">/</span><span class="si">{4:03d}</span><span class="s1"> - Progress </span><span class="si">{5:03d}</span><span class="s1">%&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">process_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">run</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span><span class="p">,</span> <span class="n">fit_nb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">progress</span><span class="p">)</span>
        <span class="n">lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_Graph</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">label</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;Process </span><span class="si">{0:d}</span><span class="s1"> - Run </span><span class="si">{1:03d}</span><span class="s1">/</span><span class="si">{2:03d}</span><span class="s1"> - Fit </span><span class="si">{3:03d}</span><span class="s1">/</span><span class="si">{4:03d}</span><span class="s1"> - Progress </span><span class="si">{5:03d}</span><span class="s1">%&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">process_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">run</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_per_process</span><span class="p">,</span> <span class="n">fit_nb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">NB_Fit_in_Run</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">progress</span><span class="p">)</span>
        <span class="n">lines</span><span class="p">[</span><span class="n">process_index</span><span class="p">]</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Iph_true_Graph</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_figure</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.autoscale"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.autoscale">[docs]</a>    <span class="k">def</span> <span class="nf">autoscale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chart</span><span class="p">):</span>
        <span class="n">chart</span><span class="o">.</span><span class="n">set_autoscale_on</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">chart</span><span class="o">.</span><span class="n">relim</span><span class="p">()</span>
        <span class="n">chart</span><span class="o">.</span><span class="n">autoscale_view</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="Analyse_PEC.update_figure"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.update_figure">[docs]</a>    <span class="k">def</span> <span class="nf">update_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_set_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">prm_win</span> <span class="o">=</span> <span class="n">ParameterWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_prm_folder</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span> <span class="o">=</span> <span class="n">prm_win</span><span class="o">.</span><span class="n">get_prm</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_filepath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_prm_folder</span> <span class="o">=</span> <span class="n">prm_win</span><span class="o">.</span><span class="n">get_paths</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Nb_SC</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_binary</span><span class="p">()</span>

<div class="viewcode-block" id="Analyse_PEC.start"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.start">[docs]</a>    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span></div>

<div class="viewcode-block" id="Analyse_PEC.ask_quit"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.Analyse_PEC.ask_quit">[docs]</a>    <span class="k">def</span> <span class="nf">ask_quit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">running_flag</span><span class="p">:</span>
            <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="s1">&#39;Warning&#39;</span><span class="p">,</span> <span class="s1">&#39;You must stop the running fit before closing down the application.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">askyesno</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="s2">&quot;Do you want to quit the application?&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="ParameterWindow"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.ParameterWindow">[docs]</a><span class="k">class</span> <span class="nc">ParameterWindow</span><span class="p">(</span><span class="n">Toplevel</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">prm_init</span><span class="p">,</span> <span class="n">last_prm_folder</span><span class="p">):</span>
        <span class="n">Toplevel</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transient</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">master</span> <span class="o">=</span> <span class="n">master</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Set Parameters&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span> <span class="o">=</span> <span class="n">prm_init</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">initial_focus</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_quit</span><span class="p">)</span>

        <span class="n">ws</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
        <span class="n">hs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">winfo_screenheight</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.6</span> <span class="o">*</span> <span class="n">ws</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.45</span> <span class="o">*</span> <span class="n">hs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">ws</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">hs</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">x</span><span class="si">{}</span><span class="s1">+</span><span class="si">{}</span><span class="s1">+</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_frame</span> <span class="o">=</span> <span class="n">ParameterTable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_init</span><span class="p">,</span> <span class="n">last_prm_folder</span><span class="p">,</span> <span class="n">scrolled</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">initial_focus</span><span class="o">.</span><span class="n">focus_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_window</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="ParameterWindow.get_prm"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.ParameterWindow.get_prm">[docs]</a>    <span class="k">def</span> <span class="nf">get_prm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameter_frame</span><span class="o">.</span><span class="n">prm</span></div>

<div class="viewcode-block" id="ParameterWindow.get_paths"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.ParameterWindow.get_paths">[docs]</a>    <span class="k">def</span> <span class="nf">get_paths</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameter_frame</span><span class="o">.</span><span class="n">path_prm_file</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameter_frame</span><span class="o">.</span><span class="n">last_prm_folder</span></div>

    <span class="k">def</span> <span class="nf">_quit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_frame</span><span class="o">.</span><span class="n">_update_prm_values</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">focus_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div>


<div class="viewcode-block" id="ScrolledFrame"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.ScrolledFrame">[docs]</a><span class="k">class</span> <span class="nc">ScrolledFrame</span><span class="p">(</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="n">Frame</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_default_options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;scrolled&#39;</span><span class="p">:</span> <span class="s1">&#39;y&#39;</span><span class="p">}</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_options</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">TclError</span><span class="p">(</span><span class="s1">&#39;Unknow option --&#39;</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_default_options</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">yscrollbar</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xscrollbar</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_options</span><span class="p">[</span><span class="s1">&#39;scrolled&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">yscrollbar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_options</span><span class="p">[</span><span class="s1">&#39;scrolled&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xscrollbar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_options</span><span class="p">[</span><span class="s1">&#39;scrolled&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;both&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">yscrollbar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xscrollbar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TclError</span><span class="p">(</span><span class="s1">&#39;Bad scroll style </span><span class="se">\&quot;</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_options</span><span class="p">[</span><span class="s1">&#39;scrolled&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\&quot;</span><span class="s1"> must be x, y or both&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bd</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">FLAT</span><span class="p">,</span> <span class="n">yscrollcommand</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">yscrollbar</span><span class="o">.</span><span class="n">set</span><span class="p">,</span>
                             <span class="n">xscrollcommand</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">xscrollbar</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">yscrollbar</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">yview</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xscrollbar</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">xview</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">scrollregion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bbox</span><span class="p">(</span><span class="nb">all</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_window_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">create_window</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;nw&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_window_id</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">winfo_reqwidth</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Configure&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_canvas_window_size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_canvas_window_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">width</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">winfo_reqwidth</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_window_id</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">winfo_reqwidth</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_window_id</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">event</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">height</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_window_id</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_window_id</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">event</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_update_canvas_bbox</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_update_canvas_bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">scrollregion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bbox</span><span class="p">(</span><span class="n">ALL</span><span class="p">))</span></div>


<div class="viewcode-block" id="ParameterTable"><a class="viewcode-back" href="../../autodoc/codedoc.html#pec.Analyse_PEC.ParameterTable">[docs]</a><span class="k">class</span> <span class="nc">ParameterTable</span><span class="p">(</span><span class="n">ScrolledFrame</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">prm</span><span class="p">,</span> <span class="n">last_prm_folder</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="n">ScrolledFrame</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">path_prm_file</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_prm_folder</span> <span class="o">=</span> <span class="n">last_prm_folder</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm</span> <span class="o">=</span> <span class="n">prm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_prm_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                               <span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                               <span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                               <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                               <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">iph_functions</span><span class="o">.</span><span class="n">_FLOAT</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imported_prm</span> <span class="o">=</span> <span class="n">prm</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header_row</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all_button_row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">header_row</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_button_row</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>

        <span class="c1"># All rows have no weight --&gt; minimize space</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_row</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># K, theta, Eg have a weight of 1 for automatic resizing</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="c1"># K?, theta?, Eg? have a weight of 0 for automatic resizing</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]:</span>
            <span class="n">Grid</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">header</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;K?&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;theta&#39;</span><span class="p">,</span> <span class="s1">&#39;theta?&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Eg&#39;</span><span class="p">,</span> <span class="s1">&#39;Eg?&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;powhv&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">):</span>
            <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">header_row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">j</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_create_widgets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grid_widgets</span><span class="p">()</span>

        <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;+1 SC&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_add_line</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                      <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                      <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">,</span>
                                                                      <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;-1 SC&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_delete_line</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                         <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                                                         <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">,</span>
                                                                         <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Import Parameter File&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_import_prm_file</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                                             <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                                                                                             <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">,</span>
                                                                                             <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_K_vbl</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_K_vbl</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_theta_vbl</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_theta_vbl</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_Eg_vbl</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_Eg_vbl</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_K_button</span> <span class="o">=</span> <span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">check_all_K_vbl</span><span class="p">,</span>
                                              <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_check_all_K</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_K_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">all_button_row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_theta_button</span> <span class="o">=</span> <span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">check_all_theta_vbl</span><span class="p">,</span>
                                                  <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_check_all_theta</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_theta_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">all_button_row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_Eg_button</span> <span class="o">=</span> <span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">check_all_Eg_vbl</span><span class="p">,</span>
                                               <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_check_all_Eg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_all_Eg_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">all_button_row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_widget_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">DoubleVar</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">DoubleVar</span><span class="p">()</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Dir. Trans.&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span>
                                                                                                     <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                                                                     <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Ind. Trans.&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span>
                                                                                                     <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                                                                     <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">frame</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                                                         <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="n">Radiobutton</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                                                         <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="n">frame</span>

    <span class="k">def</span> <span class="nf">_create_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_widget_line</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>

    <span class="k">def</span> <span class="nf">_update_widget_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="o">.</span><span class="n">shape</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_update_prm_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="o">.</span><span class="n">shape</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_grid_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_widget_values</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="o">.</span><span class="n">shape</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_row</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">j</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nswe&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_create_widget_line</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_line_vbl</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_prm_values</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grid_widgets</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_delete_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">-=</span> <span class="mi">1</span>

            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grid_widgets</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">prm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_update_widget_values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_copy_imported_prm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">row_old</span><span class="p">,</span> <span class="n">col_old</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">row_new</span><span class="p">,</span> <span class="n">col_new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imported_prm</span><span class="o">.</span><span class="n">shape</span>

        <span class="n">d_row</span> <span class="o">=</span> <span class="n">row_new</span> <span class="o">-</span> <span class="n">row_old</span>

        <span class="k">if</span> <span class="n">d_row</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">sign</span> <span class="o">=</span> <span class="n">d_row</span> <span class="o">/</span> <span class="nb">abs</span><span class="p">(</span><span class="n">d_row</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">d_row</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">sign</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_line</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_add_line</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prm</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imported_prm</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_update_widget_values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_import_prm_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">File_PRM</span> <span class="o">=</span> <span class="n">tkFileDialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Choose your parameters file&quot;</span><span class="p">,</span>
                                                <span class="n">defaultextension</span><span class="o">=</span><span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">iph_functions</span><span class="o">.</span><span class="n">PRM_INIT_EXT</span><span class="p">,</span>
                                                <span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;prm init&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">iph_functions</span><span class="o">.</span><span class="n">PRM_INIT_EXT</span><span class="p">),</span>
                                                           <span class="p">(</span><span class="s1">&#39;prm min&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">iph_functions</span><span class="o">.</span><span class="n">PRM_MIN_EXT</span><span class="p">),</span>
                                                           <span class="p">(</span><span class="s1">&#39;prm end&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">iph_functions</span><span class="o">.</span><span class="n">PRM_END_EXT</span><span class="p">),</span>
                                                           <span class="p">(</span><span class="s1">&#39;All files&#39;</span><span class="p">,</span> <span class="s1">&#39;.txt&#39;</span><span class="p">)],</span>
                                                <span class="n">initialdir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">last_prm_folder</span><span class="p">,</span>
                                                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">File_PRM</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">path_prm_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">File_PRM</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_prm_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path_prm_file</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">imported_prm</span> <span class="o">=</span> <span class="n">iph_functions</span><span class="o">.</span><span class="n">import_prm_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path_prm_file</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_copy_imported_prm</span><span class="p">()</span>

            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Incorrect PRM file&#39;</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing canceled&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_check_all_K</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_all_K_vbl</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_on_check_all_theta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_all_theta_vbl</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_on_check_all_Eg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prm_wdg_vbl</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_all_Eg_vbl</span><span class="o">.</span><span class="n">get</span><span class="p">())</span></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">PyPEC 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pec.Analyse_PEC</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Milan Skocic.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  </body>
</html>